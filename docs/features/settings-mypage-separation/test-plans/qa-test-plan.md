# QA 테스트 계획: /settings & /mypage 분리

## 테스트 범위

### 1. /settings 페이지 테스트

#### 1.1 접근성 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| S-ACC-01 | 비로그인 상태에서 /settings 접근 | 페이지 정상 표시 |
| S-ACC-02 | 로그인 상태에서 /settings 접근 | 페이지 정상 표시 |
| S-ACC-03 | 네비게이션에서 설정 클릭 | /settings로 이동 |

#### 1.2 테마 설정 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| S-THM-01 | 라이트 모드 선택 | 즉시 라이트 테마 적용 |
| S-THM-02 | 다크 모드 선택 | 즉시 다크 테마 적용 |
| S-THM-03 | 시스템 설정 선택 | OS 테마 따름 |
| S-THM-04 | 테마 변경 후 새로고침 | 선택한 테마 유지 |
| S-THM-05 | 테마 변경 후 다른 페이지 이동 | 테마 유지 |

#### 1.3 언어 설정 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| S-LNG-01 | 한국어 선택 | UI 한국어 표시 |
| S-LNG-02 | English 선택 | UI 영어 표시 |
| S-LNG-03 | 언어 변경 후 새로고침 | 선택한 언어 유지 |

#### 1.4 앱 정보 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| S-APP-01 | 버전 정보 확인 | 현재 버전 표시 |
| S-APP-02 | 이용약관 클릭 | 새 탭에서 약관 페이지 열림 |
| S-APP-03 | 개인정보처리방침 클릭 | 새 탭에서 정책 페이지 열림 |

---

### 2. /mypage 페이지 테스트

#### 2.1 접근성 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| M-ACC-01 | 비로그인 상태에서 /mypage 접근 | /auth/login으로 리다이렉트 |
| M-ACC-02 | 로그인 상태에서 /mypage 접근 | 마이페이지 정상 표시 |
| M-ACC-03 | 토큰 만료 후 /mypage 접근 | 로그인 페이지로 이동 |
| M-ACC-04 | Header 프로필 아이콘 클릭 | /mypage로 이동 |

#### 2.2 프로필 표시 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| M-PRF-01 | 프로필 이미지 표시 | 사용자 이미지 또는 기본 아바타 |
| M-PRF-02 | 닉네임 표시 | displayName 또는 이름 표시 |
| M-PRF-03 | 이메일 표시 | 사용자 이메일 표시 |
| M-PRF-04 | 이메일 인증 상태 표시 | 인증됨/미인증 뱃지 표시 |

#### 2.3 프로필 수정 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| M-EDT-01 | 프로필 수정 버튼 클릭 | /mypage/edit로 이동 |
| M-EDT-02 | 닉네임 수정 | 성공 메시지 + 변경 반영 |
| M-EDT-03 | 빈 닉네임 저장 시도 | 유효성 오류 표시 |
| M-EDT-04 | 50자 초과 닉네임 | 유효성 오류 표시 |
| M-EDT-05 | 프로필 이미지 변경 | 이미지 업로드 + 반영 |
| M-EDT-06 | 5MB 초과 이미지 업로드 | 파일 크기 오류 |

#### 2.4 비밀번호 변경 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| M-PWD-01 | 비밀번호 변경 버튼 클릭 | /mypage/password로 이동 |
| M-PWD-02 | 현재 비밀번호 오류 | 오류 메시지 표시 |
| M-PWD-03 | 새 비밀번호 8자 미만 | 유효성 오류 |
| M-PWD-04 | 비밀번호 변경 성공 | 성공 메시지 + 로그아웃 |

#### 2.5 활동 목록 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| M-ACT-01 | 내 게시글 클릭 | /mypage/posts 목록 표시 |
| M-ACT-02 | 게시글 없는 경우 | 빈 상태 메시지 표시 |
| M-ACT-03 | 내 댓글 클릭 | /mypage/comments 목록 표시 |
| M-ACT-04 | 좋아요한 글 클릭 | /mypage/likes 목록 표시 |
| M-ACT-05 | 북마크 클릭 | /mypage/bookmarks 목록 표시 |
| M-ACT-06 | 목록에서 게시글 클릭 | 해당 게시글로 이동 |

#### 2.6 로그아웃 테스트
| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| M-OUT-01 | 로그아웃 버튼 클릭 | 확인 다이얼로그 표시 |
| M-OUT-02 | 로그아웃 확인 | 토큰 삭제 + 홈으로 이동 |
| M-OUT-03 | 로그아웃 취소 | 다이얼로그 닫힘 |

---

### 3. /profile 리다이렉트 테스트

| ID | 시나리오 | 기대 결과 |
|----|---------|----------|
| R-01 | /profile 접근 | /mypage로 301 리다이렉트 |
| R-02 | /profile?ref=old 접근 | /mypage로 리다이렉트 |

---

### 4. 반응형 테스트

| ID | 뷰포트 | 테스트 항목 |
|----|--------|------------|
| RSP-01 | Mobile (375px) | 단일 컬럼 레이아웃 |
| RSP-02 | Tablet (768px) | 중앙 정렬 레이아웃 |
| RSP-03 | Desktop (1280px) | 사이드바 레이아웃 |

---

### 5. 접근성 (A11y) 테스트

| ID | 항목 | 기대 결과 |
|----|------|----------|
| A11Y-01 | 키보드 네비게이션 | Tab으로 모든 요소 접근 가능 |
| A11Y-02 | 스크린 리더 | 모든 요소에 적절한 label |
| A11Y-03 | 색상 대비 | WCAG AA 충족 |
| A11Y-04 | 폼 오류 | aria-invalid, 오류 메시지 연결 |

---

## Playwright E2E 테스트 시나리오

```typescript
// 테스트 파일 위치: e2e/settings-mypage.spec.ts

describe('/settings 페이지', () => {
  test('비로그인 사용자가 접근 가능해야 함')
  test('테마 변경이 즉시 적용되어야 함')
  test('테마 설정이 localStorage에 저장되어야 함')
  test('페이지 새로고침 후 테마가 유지되어야 함')
})

describe('/mypage 페이지', () => {
  test('비로그인 사용자는 로그인 페이지로 리다이렉트')
  test('로그인 사용자의 프로필이 표시되어야 함')
  test('프로필 수정이 성공해야 함')
  test('로그아웃 시 토큰이 삭제되어야 함')
})

describe('/profile 리다이렉트', () => {
  test('/profile이 /mypage로 리다이렉트되어야 함')
})
```

---

## 테스트 우선순위

| 우선순위 | 테스트 ID | 설명 |
|---------|----------|------|
| P0 | M-ACC-01, M-ACC-02 | 인증 접근 제어 |
| P0 | S-ACC-01 | 비로그인 접근 |
| P0 | M-OUT-02 | 로그아웃 기능 |
| P1 | S-THM-* | 테마 설정 |
| P1 | M-PRF-* | 프로필 표시 |
| P1 | M-EDT-* | 프로필 수정 |
| P2 | M-ACT-* | 활동 목록 |
| P2 | R-* | 리다이렉트 |
