# 좋아요/북마크 피드백 UX 정의

## UX-MVP-004: 사용자 피드백 인터랙션 패턴

### 개요
좋아요와 북마크는 사용자가 콘텐츠에 반응하고 저장하는 핵심 기능입니다. 즉각적이고 만족스러운 피드백을 제공하여 참여감을 높입니다.

---

## 1. 좋아요 (Like) 시스템

### 1.1 시각적 상태

#### 기본 상태 (좋아요 안 함)
```
┌─────────────────┐
│   ❤️  42        │
│   └─ 빈 하트    │
│      회색 계열  │
└─────────────────┘
```

#### 좋아요 상태 (좋아요 함)
```
┌─────────────────┐
│   ♥️  43        │
│   └─ 채워진 하트│
│      빨간색     │
└─────────────────┘
```

### 1.2 애니메이션 시퀀스

#### 좋아요 추가 시
```
시간 →  0ms      50ms     100ms    150ms    200ms

        ❤️   →   ♥️    →   ♥️    →   ♥️    →   ♥️
        (빈)    (채워짐) (확대1.3x) (축소1.1x) (원래크기)

        42   →   42   →   43    →   43   →   43
                       (슬라이드업)
```

#### 좋아요 취소 시
```
시간 →  0ms      50ms     100ms

        ♥️   →   ♥️    →   ❤️
      (채워짐) (축소0.8x)  (빈)

        43   →   43   →   42
                       (슬라이드다운)
```

### 1.3 CSS 애니메이션 명세

```css
/* 좋아요 버튼 애니메이션 */
@keyframes likeAnimation {
  0% { transform: scale(1); }
  25% { transform: scale(1.3); }
  50% { transform: scale(1.1); }
  75% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

@keyframes numberSlideUp {
  0% { transform: translateY(0); opacity: 1; }
  50% { transform: translateY(-10px); opacity: 0; }
  51% { transform: translateY(10px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}
```

### 1.4 더블 탭 좋아요 (모바일)

게시글 이미지 또는 본문 영역을 더블 탭하면 좋아요:

```
┌─────────────────────────────────────┐
│                                     │
│         📷 이미지 영역              │
│                                     │
│              더블 탭                │
│                ↓                    │
│              ♥️                     │
│         (큰 하트 애니메이션)        │
│            페이드 인/아웃           │
│                                     │
└─────────────────────────────────────┘
```

#### 더블 탭 하트 애니메이션
```css
@keyframes doubleTapHeart {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 0;
  }
}
/* 지속시간: 800ms */
```

### 1.5 좋아요 누른 사람 목록

```
[좋아요 42개] ← 클릭

┌─────────────────────────────────────┐
│  좋아요 42명                  [✕]   │
├─────────────────────────────────────┤
│                                     │
│  👤 사용자1                [팔로우] │
│  👤 사용자2                [팔로잉] │
│  👤 사용자3                [팔로우] │
│  ...                                │
│                                     │
│  [더 불러오기]                      │
│                                     │
└─────────────────────────────────────┘
```

---

## 2. 북마크 (Bookmark) 시스템

### 2.1 시각적 상태

#### 기본 상태 (저장 안 함)
```
┌─────────────────┐
│   🔖            │
│   └─ 빈 북마크  │
│      회색 계열  │
└─────────────────┘
```

#### 저장 상태 (저장함)
```
┌─────────────────┐
│   🔖            │
│   └─ 채워진     │
│      북마크     │
│      강조색     │
└─────────────────┘
```

### 2.2 애니메이션 시퀀스

#### 북마크 추가 시
```
시간 →  0ms      50ms     150ms    250ms

        🔖   →   🔖    →   🔖    →   🔖
        (빈)   (채워짐)  (위로이동) (원위치)
                         (-5px)
```

### 2.3 토스트 메시지

#### 북마크 추가
```
┌─────────────────────────────────────────────┐
│  🔖 북마크에 저장되었습니다     [보러가기]  │
└─────────────────────────────────────────────┘
     ↑
     하단에서 슬라이드 업
     3초 후 자동 사라짐
```

#### 북마크 제거
```
┌─────────────────────────────────────────────┐
│  북마크가 해제되었습니다        [실행취소]  │
└─────────────────────────────────────────────┘
```

### 2.4 북마크 컬렉션 (확장 기능)

```
북마크 버튼 길게 누르기 (롱 프레스):

┌─────────────────────────────────────┐
│  컬렉션에 저장                [✕]   │
├─────────────────────────────────────┤
│                                     │
│  ☐ 기본 북마크                      │
│  ☐ 나중에 읽기                      │
│  ☐ 기술 아티클                      │
│  ☐ 참고 자료                        │
│  ─────────────────────────────────  │
│  [+ 새 컬렉션 만들기]               │
│                                     │
└─────────────────────────────────────┘
```

---

## 3. 피드백 응답 시간

### 3.1 목표 응답 시간

| 단계 | 목표 시간 | 설명 |
|------|----------|------|
| 시각적 피드백 | < 50ms | 버튼 상태 변경, 애니메이션 시작 |
| 낙관적 업데이트 | 즉시 | 숫자 변경 (서버 응답 전) |
| 서버 동기화 | < 500ms | 백그라운드 API 호출 |
| 실패 롤백 | < 100ms | 오류 시 원래 상태 복원 |

### 3.2 낙관적 업데이트 (Optimistic Update)

```
사용자 액션 → 즉시 UI 업데이트 → API 호출 → 성공/실패 처리

성공 시: 변경 사항 유지
실패 시: 롤백 + 에러 토스트
```

---

## 4. 햅틱 피드백 (모바일)

### 4.1 좋아요
```
타입: Light Impact
시점: 버튼 탭 시
강도: 약함 (subtle)
```

### 4.2 북마크
```
타입: Medium Impact
시점: 저장 완료 시
강도: 중간 (medium)
```

### 4.3 더블 탭 좋아요
```
타입: Heavy Impact
시점: 하트 애니메이션 최대 크기 시점
강도: 강함 (heavy)
```

---

## 5. 사운드 피드백 (선택적)

### 5.1 설정 옵션
```
┌─────────────────────────────────────┐
│  🔊 소리 설정                       │
├─────────────────────────────────────┤
│                                     │
│  좋아요 효과음      [───●───] ON    │
│  북마크 효과음      [●───────] OFF  │
│                                     │
└─────────────────────────────────────┘
```

### 5.2 사운드 명세

| 액션 | 사운드 | 길이 |
|------|--------|------|
| 좋아요 추가 | "pop" 소리 | 100ms |
| 좋아요 취소 | 없음 | - |
| 북마크 추가 | "ding" 소리 | 150ms |
| 북마크 취소 | 없음 | - |

---

## 6. 접근성 피드백

### 6.1 스크린 리더 안내

```html
<!-- 좋아요 버튼 -->
<button
  aria-label="좋아요, 현재 42개"
  aria-pressed="false"
>
  ❤️ 42
</button>

<!-- 좋아요 상태 -->
<button
  aria-label="좋아요 취소, 현재 43개"
  aria-pressed="true"
>
  ♥️ 43
</button>
```

### 6.2 상태 변경 알림

```html
<div role="status" aria-live="polite">
  게시글에 좋아요를 눌렀습니다
</div>
```

---

## 7. 에러 처리

### 7.1 네트워크 오류

```
┌─────────────────────────────────────┐
│  ⚠️ 좋아요를 처리할 수 없습니다     │
│                                     │
│  네트워크 연결을 확인해주세요       │
│                                     │
│  [다시 시도]          [닫기]        │
└─────────────────────────────────────┘
```

### 7.2 롤백 시나리오

```
1. 좋아요 버튼 클릭
2. UI 즉시 업데이트 (♥️ 43)
3. API 호출 실패
4. 롤백 (❤️ 42)
5. 진동 피드백 (에러)
6. 에러 토스트 표시
```

---

## 8. 분석 이벤트

### 8.1 추적 이벤트

| 이벤트 | 파라미터 |
|--------|----------|
| `like_added` | post_id, source(feed/detail), position |
| `like_removed` | post_id, source, time_since_like |
| `bookmark_added` | post_id, source, collection_id |
| `bookmark_removed` | post_id, source |
| `double_tap_like` | post_id, content_type(image/text) |

### 8.2 A/B 테스트 가능 요소

| 요소 | 변형 옵션 |
|------|----------|
| 애니메이션 강도 | subtle / normal / playful |
| 토스트 지속 시간 | 2초 / 3초 / 5초 |
| 햅틱 피드백 | 있음 / 없음 |
| 더블 탭 하트 크기 | 작음 / 중간 / 큼 |

---

## 9. 성능 고려사항

### 9.1 애니메이션 최적화

```css
/* GPU 가속 사용 */
.like-button {
  will-change: transform;
  transform: translateZ(0);
}

/* 60fps 유지를 위한 속성 제한 */
/* transform, opacity만 애니메이션 */
```

### 9.2 디바운싱

```javascript
// 빠른 연속 클릭 방지
const DEBOUNCE_TIME = 300; // ms

// 연속 클릭 시 마지막 상태만 서버에 전송
```

### 9.3 배치 처리

```
여러 게시글 좋아요 시:
- 개별 API 호출 대신 배치 API 사용
- 1초 내 여러 액션을 하나의 요청으로 묶음
```
